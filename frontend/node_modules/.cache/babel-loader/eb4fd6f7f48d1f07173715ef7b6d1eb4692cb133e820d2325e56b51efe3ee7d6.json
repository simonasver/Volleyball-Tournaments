{"ast":null,"code":"import { setUserData } from \"../store/auth.storage\";\nimport api from \"./api.js\";\nexport const login = async (email, password) => {\n  const res = await api.post(\"/tokens\", {\n    email,\n    password\n  });\n  return res.data;\n};\nexport const register = async (email, username, password) => {\n  const res = await api.post(\"/users\", {\n    email,\n    username,\n    password\n  });\n  return res.data;\n};\nexport const refresh = async token => {\n  const res = await api.put(\"/tokens\", {\n    token\n  });\n  return res.data;\n};\nexport const logout = async (token, userId, dispatch) => {\n  try {\n    const res = await api.delete(`/tokens/${token}/users/${userId}`);\n    return res.data;\n  } catch (e) {\n    return Promise.reject(e);\n  } finally {\n    setUserData(null, null, dispatch);\n  }\n};\nexport const getUserId = async userName => {\n  const res = await api.get(`/users/${userName}/userIds`);\n  return res.data;\n};","map":{"version":3,"names":["setUserData","api","login","email","password","res","post","data","register","username","refresh","token","put","logout","userId","dispatch","delete","e","Promise","reject","getUserId","userName","get"],"sources":["C:/Stuff/KTU/8 semestras/bakalauras/project/frontendreact/my-app/src/storage/auth.service.js"],"sourcesContent":["import { setUserData } from \"../store/auth.storage\";\r\nimport api from \"./api.js\";\r\n\r\nexport const login = async (email, password) => {\r\n  const res = await api.post(\"/tokens\", {\r\n    email,\r\n    password,\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const register = async (email, username, password) => {\r\n  const res = await api.post(\"/users\", {\r\n    email,\r\n    username,\r\n    password,\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const refresh = async (token) => {\r\n  const res = await api.put(\"/tokens\", {\r\n    token,\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const logout = async (token, userId, dispatch) => {\r\n  try {\r\n    const res = await api.delete(`/tokens/${token}/users/${userId}`);\r\n    return res.data;\r\n  } catch (e) {\r\n    return Promise.reject(e);\r\n  } finally {\r\n    setUserData(null, null, dispatch);\r\n  }\r\n};\r\n\r\nexport const getUserId = async (userName) => {\r\n  const res = await api.get(`/users/${userName}/userIds`);\r\n  return res.data;\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,uBAAuB;AACnD,OAAOC,GAAG,MAAM,UAAU;AAE1B,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EAC9C,MAAMC,GAAG,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,SAAS,EAAE;IACpCH,KAAK;IACLC;EACF,CAAC,CAAC;EACF,OAAOC,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAOL,KAAK,EAAEM,QAAQ,EAAEL,QAAQ,KAAK;EAC3D,MAAMC,GAAG,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,QAAQ,EAAE;IACnCH,KAAK;IACLM,QAAQ;IACRL;EACF,CAAC,CAAC;EACF,OAAOC,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMG,OAAO,GAAG,MAAOC,KAAK,IAAK;EACtC,MAAMN,GAAG,GAAG,MAAMJ,GAAG,CAACW,GAAG,CAAC,SAAS,EAAE;IACnCD;EACF,CAAC,CAAC;EACF,OAAON,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMM,MAAM,GAAG,MAAAA,CAAOF,KAAK,EAAEG,MAAM,EAAEC,QAAQ,KAAK;EACvD,IAAI;IACF,MAAMV,GAAG,GAAG,MAAMJ,GAAG,CAACe,MAAM,CAAE,WAAUL,KAAM,UAASG,MAAO,EAAC,CAAC;IAChE,OAAOT,GAAG,CAACE,IAAI;EACjB,CAAC,CAAC,OAAOU,CAAC,EAAE;IACV,OAAOC,OAAO,CAACC,MAAM,CAACF,CAAC,CAAC;EAC1B,CAAC,SAAS;IACRjB,WAAW,CAAC,IAAI,EAAE,IAAI,EAAEe,QAAQ,CAAC;EACnC;AACF,CAAC;AAED,OAAO,MAAMK,SAAS,GAAG,MAAOC,QAAQ,IAAK;EAC3C,MAAMhB,GAAG,GAAG,MAAMJ,GAAG,CAACqB,GAAG,CAAE,UAASD,QAAS,UAAS,CAAC;EACvD,OAAOhB,GAAG,CAACE,IAAI;AACjB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}