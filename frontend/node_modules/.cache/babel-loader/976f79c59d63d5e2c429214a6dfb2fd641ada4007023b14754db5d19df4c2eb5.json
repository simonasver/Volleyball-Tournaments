{"ast":null,"code":"import { setUserData } from \"../storage/auth.storage\";\nimport api from \"./api\";\nexport const login = async (username, password) => {\n  const res = await api.post(\"/Auth/login\", {\n    UserName: username,\n    Password: password\n  });\n  return res.data;\n};\nexport const register = async (email, username, password) => {\n  const res = await api.post(\"/users\", {\n    email,\n    username,\n    password\n  });\n  return res.data;\n};\nexport const refresh = async token => {\n  const res = await api.put(\"/tokens\", {\n    token\n  });\n  return res.data;\n};\nexport const logout = async (token, userId, dispatch) => {\n  try {\n    const res = await api.delete(`/tokens/${token}/users/${userId}`);\n    return res.data;\n  } catch (e) {\n    return Promise.reject(e);\n  } finally {\n    setUserData(dispatch, undefined, undefined, undefined);\n  }\n};\nexport const getUserId = async userName => {\n  const res = await api.get(`/users/${userName}/userIds`);\n  return res.data;\n};","map":{"version":3,"names":["setUserData","api","login","username","password","res","post","UserName","Password","data","register","email","refresh","token","put","logout","userId","dispatch","delete","e","Promise","reject","undefined","getUserId","userName","get"],"sources":["C:/Stuff/KTU/8 semestras/bakalauras/project/frontendreact/my-app/src/services/auth.service.ts"],"sourcesContent":["import { setUserData } from \"../storage/auth.storage\";\r\nimport { AppDispatch } from \"../store\";\r\nimport api from \"./api\";\r\n\r\nexport const login = async (username: string, password: string) => {\r\n  const res = await api.post(\"/Auth/login\", {\r\n    UserName: username,\r\n    Password: password,\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const register = async (\r\n  email: string,\r\n  username: string,\r\n  password: string\r\n) => {\r\n  const res = await api.post(\"/users\", {\r\n    email,\r\n    username,\r\n    password,\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const refresh = async (token: string) => {\r\n  const res = await api.put(\"/tokens\", {\r\n    token,\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const logout = async (\r\n  token: string,\r\n  userId: string,\r\n  dispatch: AppDispatch\r\n) => {\r\n  try {\r\n    const res = await api.delete(`/tokens/${token}/users/${userId}`);\r\n    return res.data;\r\n  } catch (e) {\r\n    return Promise.reject(e);\r\n  } finally {\r\n    setUserData(dispatch, undefined, undefined, undefined);\r\n  }\r\n};\r\n\r\nexport const getUserId = async (userName: string) => {\r\n  const res = await api.get(`/users/${userName}/userIds`);\r\n  return res.data;\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,yBAAyB;AAErD,OAAOC,GAAG,MAAM,OAAO;AAEvB,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,QAAgB,EAAEC,QAAgB,KAAK;EACjE,MAAMC,GAAG,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,aAAa,EAAE;IACxCC,QAAQ,EAAEJ,QAAQ;IAClBK,QAAQ,EAAEJ;EACZ,CAAC,CAAC;EACF,OAAOC,GAAG,CAACI,IAAI;AACjB,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CACtBC,KAAa,EACbR,QAAgB,EAChBC,QAAgB,KACb;EACH,MAAMC,GAAG,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,QAAQ,EAAE;IACnCK,KAAK;IACLR,QAAQ;IACRC;EACF,CAAC,CAAC;EACF,OAAOC,GAAG,CAACI,IAAI;AACjB,CAAC;AAED,OAAO,MAAMG,OAAO,GAAG,MAAOC,KAAa,IAAK;EAC9C,MAAMR,GAAG,GAAG,MAAMJ,GAAG,CAACa,GAAG,CAAC,SAAS,EAAE;IACnCD;EACF,CAAC,CAAC;EACF,OAAOR,GAAG,CAACI,IAAI;AACjB,CAAC;AAED,OAAO,MAAMM,MAAM,GAAG,MAAAA,CACpBF,KAAa,EACbG,MAAc,EACdC,QAAqB,KAClB;EACH,IAAI;IACF,MAAMZ,GAAG,GAAG,MAAMJ,GAAG,CAACiB,MAAM,CAAE,WAAUL,KAAM,UAASG,MAAO,EAAC,CAAC;IAChE,OAAOX,GAAG,CAACI,IAAI;EACjB,CAAC,CAAC,OAAOU,CAAC,EAAE;IACV,OAAOC,OAAO,CAACC,MAAM,CAACF,CAAC,CAAC;EAC1B,CAAC,SAAS;IACRnB,WAAW,CAACiB,QAAQ,EAAEK,SAAS,EAAEA,SAAS,EAAEA,SAAS,CAAC;EACxD;AACF,CAAC;AAED,OAAO,MAAMC,SAAS,GAAG,MAAOC,QAAgB,IAAK;EACnD,MAAMnB,GAAG,GAAG,MAAMJ,GAAG,CAACwB,GAAG,CAAE,UAASD,QAAS,UAAS,CAAC;EACvD,OAAOnB,GAAG,CAACI,IAAI;AACjB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}